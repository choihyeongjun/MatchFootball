<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="co.company.MatchFootball.mapper.HyendongMapper"> <!-- 패키지.EmpMapper -->

<!-- 팀리스트 조회 -->
<select id="teamListSelect" resultType="TeamVO">
	SELECT *
	FROM TEAM
	ORDER BY T_NUM
</select>

<!-- 팀 등록 -->
<insert id="teamInsert" parameterType="TeamVO">
<selectKey order="BEFORE"
				   keyProperty="t_num" 
				   resultType="string">
			SELECT MAX(t_num)+1 
			FROM team
		</selectKey>
	INSERT INTO TEAM (t_num, 
					  t_name, 
					  t_max, 
					  t_address, 
					  t_type, 
					  t_info, 
					  t_logo
					  )
				VALUES(
					  #{t_num},
					  #{t_name},
					  #{t_max},
					  #{t_address},
					  #{t_type},
					  #{t_info},
					  #{t_logo})
</insert>

<!-- 팀 단건 정보 조회 -->
<select id="getTeam" parameterType="teamVO" resultType="teamVO">
	SELECT t_num,
		   t_name,
		   t_max,
		   t_age,
		   t_address,
		   t_type,
		   t_info,
		   t_logo
	FROM team
	WHERE t_num = #{t_num}
</select>

<!-- 팀원 조회 -->
<select id="getTeamMembers" parameterType="TeamlistVO" resultType="TeamlistVO">
	select * from teamlist where t_num = #{t_num}
</select>

<!-- 팀 정보 변경 -->
<update id="teamUpdate" >
	UPDATE TEAM
	SET t_name = #{t_name},
		t_max = #{t_max},
		t_address = #{t_address},
		t_type = #{t_type},
		t_logo = #{t_logo},
		t_info = #{t_info}
	WHERE t_num = #{t_num}
</update>
</mapper>
