<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="co.company.MatchFootball.mapper.SeemooMapper">

<!-- 유저관리 -->

	<!-- 유저전체조회 -->
	<select id="memberList" resultType="MembersVO">
		SELECT * FROM MEMBERS
	</select>

	<!-- 유저단건조회 -->
	<select id="members" parameterType="MembersVO" resultType="MembersVO">
		SELECT * FROM MEMBERS WHERE ID = #{id}
	</select>
	
	<!-- 유저 권한, 권한2 수정 -->
	<select id="membersupdate" parameterType="MembersVO" resultType="MembersVO">
		UPDATE MEMBERS SET AUTHOR = #{author}, AUTHOR2 = #{author2} WHERE ID = #{id}     
	</select>
	
	<!-- 유저삭제 -->
	<select id="membersdelete" parameterType="MembersVO">
		DELETE FROM MEMBERS WHERE ID = #{id}
	</select>
	
<!-- 팀관리 -->

	<!-- 팀조회 -->
	<select id="teamList" resultType="TeamVO">
		SELECT * FROM TEAM WHERE AUTHOR = 'team'
		<!-- select * from team -->
	</select>

	<!-- 팀단건조회 -->
	<select id="teams" parameterType="TeamVO" resultType="TeamVO">
		SELECT * FROM TEAM WHERE T_NUM = #{t_num}
	</select>
	
	<!-- 팀권한 수정 -->
	<select id="teamsupdate" parameterType="TeamVO" resultType="TeamVO">
		UPDATE TEAM SET AUTHOR = #{author} WHERE T_NUM = #{t_num}     
	</select>
	
	<!-- 팀삭제 -->
	<select id="teamsdelete" parameterType="TeamVO">
		DELETE FROM TEAM WHERE T_NUM = #{t_num}
	</select>
	
	<!-- 블랙팀 조회 -->
	<select id="blackteamList" resultType="TeamVO">
		SELECT * FROM TEAM WHERE AUTHOR = 'black'
	</select>
	
<!-- 매니저관리 -->

	<!-- 매니저조회 -->
	<select id="managerList" resultType="ManagersVO">
		SELECT MEMBERS.ID, NAME, GENDER, PNUM, AUTHOR, POINT, COMM FROM MEMBERS, MANAGER WHERE MEMBERS.ID=MANAGER.ID
	</select>
	
	<!-- 유저 권한, 권한2 수정 -->
	<select id="managers" parameterType="MembersVO" resultType="MembersVO">
		UPDATE MEMBERS SET AUTHOR = #{author} WHERE ID = #{id}     
	</select>
	
	<!-- 매니저 승인|대기조회 -->
	<select id="managerapplyList" resultType="ManagerapplyVO">
		SELECT MEMBERS.ID, NAME, BIRTH, GENDER, PNUM, AUTHOR, BIRTH, APPLY, COMM FROM MEMBERS, MANAGERAPLY WHERE MEMBERS.ID=MANAGERAPLY.ID
	</select>
	
<!-- 공지사항 -->
	
	<!-- 공지사항 조회 -->
	<select id="noticeList" resultType="NoticeVO">
		SELECT * FROM NOTICE
	</select>
	
	<!-- 공지 단건조회 -->
	<select id="noticeselect" parameterType="NoticeVO" resultType="NoticeVO">
		SELECT * FROM NOTICE WHERE N_NO = #{n_no}
	</select>
	
	<!-- 등록 -->
	<insert id="noticeinsert" parameterType="NoticeVO">
		<selectKey order="BEFORE" keyProperty="n_no" resultType="string">
			SELECT MAX(N_NO)+1
			FROM NOTICE
		</selectKey>
		INSERT INTO NOTICE(N_NO, ID, N_TITLE, N_DATE,
		 <if test="n_img != null and n_img != ''">N_IMG,</if>
		  N_COMM) 
		VALUES(#{n_no}, 'pueen0616', #{n_title}, SYSDATE, 
		 <if test="n_img != null and n_img != ''">#{n_img},</if> 
		 #{n_comm})
	</insert>
	
	<!-- 삭제 -->
	<select id="noticedelete" resultType="NoticeVO">
		DELETE NOTICE WHERE N_NO = #{n_no}
	</select>
	
<!-- 리뷰관리 -->

	<!-- 리뷰조회 -->
		<select id="reviewList" resultType="ReviewVO">
			SELECT * FROM REVIEW
		</select>	
</mapper>
